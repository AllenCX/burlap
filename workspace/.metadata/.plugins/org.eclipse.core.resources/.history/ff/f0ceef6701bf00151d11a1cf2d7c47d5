package ellisPaperCode.propositionalFunctionToFeatures;

import java.util.List;

import burlap.behavior.singleagent.vfa.StateToFeatureVectorGenerator;
import burlap.oomdp.core.PropositionalFunction;
import burlap.oomdp.core.State;

public class PFToFeaturesGenerator implements StateToFeatureVectorGenerator {
	
	public List<PropositionalFunction> propFuns;
	
	public PFToFeaturesGenerator(List<PropositionalFunction> propFuns) {
		this.propFuns = propFuns;
	}

	@Override
	public double[] generateFeatureVectorFrom(State s) {
		double[] toReturn = new double[propFuns.size()];
		int i = 0;
		for (PropositionalFunction pf : this.propFuns) {
			if (pf.isTrue(s, "")) {
				toReturn[i] += 1;
			}
			i++;
		}
		
		return toReturn;
	}

}
